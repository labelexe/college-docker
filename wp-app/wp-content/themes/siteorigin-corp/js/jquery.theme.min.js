!function(p){p.fn.siteoriginCorpIsVisible=function(){var o=this[0].getBoundingClientRect();return 0<=o.bottom&&0<=o.right&&o.top<=(window.innerHeight||document.documentElement.clientHeight)&&o.left<=(window.innerWidth||document.documentElement.clientWidth)};p(document).on("mousemove",function(o){({x:o.pageX,y:o.pageY})}),void 0!==p.fn.fitVids&&p(".entry-content, .entry-content .panel, .entry-video, .woocommerce #main").fitVids({ignore:".tableauViz"}),p(document).ready(function(){p(".flexslider").each(function(){p(this).flexslider({animation:"slide",customDirectionNav:p(this).find(".flex-direction-nav a"),start:function(){p(".flexslider .slides img").show()}})})}),p("body.no-js").removeClass("no-js"),p("body").hasClass("css3-animations")&&(p(".menu-item").children("a").on("focusin",function(){p(this).parents("ul, li").addClass("focus")}),p(".menu-item").children("a").on("click",function(){p(this).parents("ul, li").removeClass("focus")}),p(".menu-item").children("a").on("focusout",function(){p(this).parents("ul, li").removeClass("focus")})),p(document).ready(function(o){window.location.hash||(o('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),o(window).on("click",function(){o("#site-navigation ul li").hasClass("current")?(o("#site-navigation li").removeClass("current-menu-item"),o("#site-navigation li.current-menu-ancestor").removeClass("current-menu-ancestor current-menu-parent")):0==o(document).scrollTop()&&(o('#site-navigation a[href="'+window.location.href+'"]').parent("li").addClass("current-menu-item"),o('#site-navigation a[href="'+window.location.href+'"]').parents("li.menu-item-has-children").addClass("current-menu-ancestor current-menu-parent"))}))});function r(){var o,t=p("#wpadminbar").outerHeight(),e=p("body").hasClass("admin-bar"),i=p("header").hasClass("sticky"),n=p(".site-header");if(o=i&&e&&600<p(window).width()?t+p("header").outerHeight()-1:i?p("header").outerHeight()-1:0,n.data("scale-logo")&&!n.hasClass("stuck")){var s=parseInt(n.css("padding-bottom"));o+=s-s*siteoriginCorp.logoScale*2}return o}p.fn.siteoriginCorpSmoothScroll=function(){p("body").hasClass("disable-smooth-scroll")||p(this).on("click",function(o){var t=this.hash.substring(1);if(0<p(".panel-grid [id*="+t+"]").length?(p("#site-navigation .current").removeClass("current"),p(this).parent("li").addClass("current")):p("#site-navigation .current").removeClass("current"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=p(this.hash);if((e=e.length?e:p("[name="+this.hash.slice(1)+"]")).length)return p("html, body").animate({scrollTop:e.offset().top-r()},{duration:1200,start:function(){p("html, body").on("wheel touchmove",function(){p("html, body").stop().off("wheel touchmove")})},complete:function(){p("html, body").finish().off("wheel touchmove")}}),!1}})},p(window).on("load",function(){if(p('#site-navigation a[href*="#"]:not([href="#"]), .comments-link a[href*="#"]:not([href="#"]), .woocommerce-review-link[href*="#"]:not([href="#"]), .corp-scroll[href*="#"]:not([href="#"])').siteoriginCorpSmoothScroll(),location.pathname.replace(/^\//,"")==window.location.pathname.replace(/^\//,"")&&location.hostname==window.location.hostname){var o=p(window.location.hash);o.length&&setTimeout(function(){p("html, body").animate({scrollTop:o.offset().top-r()},0,function(){p("#masthead").hasClass("sticky-menu")&&smSetup()})},100)}}),p(window).on("scroll",function(){var s=p(window).scrollTop(),a="no";p(".panel-row-style").each(function(){var o="#"+p(this).attr("id"),t=p(this).offset().top-1,e=p(this).outerHeight(),i=t-r(),n=t+e-r();if(i<=s&&s<=n)return a="yes",p("#site-navigation .current").removeClass("current"),p('#site-navigation a[href$="'+o+'"]').parent("li").addClass("current"),!1;"no"===a&&p("#site-navigation .current").removeClass("current")})});var i=!1;p("#mobile-menu-button").on("click",function(o){o.preventDefault();var t=p(this);if(t.toggleClass("to-close"),!1===i){(i=p("<div></div>").append(p(".main-navigation ul").first().clone()).attr("id","mobile-navigation").appendTo("#masthead").hide()).find("#primary-menu").show().css("opacity",1),i.find(".menu-item-has-children > a").addClass("has-dropdown"),i.find(".page_item_has_children > a").addClass("has-dropdown"),i.find(".has-dropdown").after('<button class="dropdown-toggle" aria-expanded="false"><i class="icon-angle-down" aria-hidden="true"></i></button>'),i.find(".dropdown-toggle").on("click",function(o){o.preventDefault(),p(this).toggleClass("toggle-open").next(".children, .sub-menu").slideToggle("fast")}),i.find(".has-dropdown").on("click",function(o){void 0!==p(this).attr("href")&&"#"!=p(this).attr("href")||(o.preventDefault(),p(this).siblings(".dropdown-toggle").trigger("click"))});function e(){if(p("#masthead").hasClass("sticky")){var o="fixed"===p("#wpadminbar").css("position")?p("#wpadminbar").outerHeight():0,t=p("#masthead").innerHeight(),e=p(window).height()-t-o;p("#mobile-navigation").css("max-height",e)}}e(),p(window).on("resize",e),p("#mobile-navigation").on("scroll",e)}i.slideToggle("fast"),p("#mobile-navigation a").on("click",function(o){(!p(this).hasClass("has-dropdown")||void 0!==p(this).attr("href")&&"#"!==p(this).attr("href"))&&i.is(" :visible")&&i.slideUp("fast"),t.removeClass("to-close")}),p('#mobile-navigation a[href*="#"]:not([href="#"])').siteoriginCorpSmoothScroll()}),p("#search-button").on("click",function(o){o.preventDefault();var t=p(this);t.toggleClass("close-search"),p("input[type='search']").each(function(){p(this).attr("size",p(this).attr("placeholder").length)});function e(){var o=p(window).width(),t=p(window).height();p("#fullscreen-search").css({height:t+"px",width:o+"px"})}e(),p(window).on("resize",e),t.hasClass("close-search")?(p("body").css("margin-right",window.innerWidth-p("body").width()+"px"),p("body").css("overflow","hidden")):(p("body").css("overflow",""),p("body").css("margin-right","")),p("#fullscreen-search").slideToggle("fast"),p("#fullscreen-search input").trigger("focus")}),p("#fullscreen-search-form").on("submit",function(){p(this).find("button svg").hide(),p(this).find("button svg:last-child").show()}),p("#fullscreen-search #search-close-button").on("click",function(o){o.preventDefault(),p("#search-button.close-search").trigger("click")}),p(document).on("keyup",function(o){27===o.keyCode&&p("#search-button.close-search").trigger("click")});function o(){(window.pageYOffset||document.documentElement.scrollTop)>p("#masthead").outerHeight()?p("#scroll-to-top").hasClass("show")||p("#scroll-to-top").css("pointer-events","auto").addClass("show"):p("#scroll-to-top").hasClass("show")&&p("#scroll-to-top").css("pointer-events","none").removeClass("show")}o(),p(window).on("scroll",o),p("#scroll-to-top").on("click",function(){p("html, body").animate({scrollTop:0})}),("ontouchstart"in document.documentElement||window.navigator.msMaxTouchPoints||window.navigator.MaxTouchPoints)&&(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&(p("body").css("cursor","pointer"),p("body").addClass("ios")),p(".main-navigation #primary-menu").find(".menu-item-has-children > a").each(function(){p(this).on("click touchend",function(o){var t=p(this);o.stopPropagation(),"click"!=o.type&&(t.parent().hasClass("hover")||(p(".menu-item.hover").removeClass("hover"),t.parents(".menu-item").addClass("hover"),o.preventDefault()),p(document).one("click",function(){t.parent().removeClass("hover")}))})})),p("#portfolio-loop").length&&($infinite_scroll=0,p(document.body).on("post-load",function(){var o=p("#portfolio-loop");$infinite_scroll+=1;o=p("#projects-container");var t=p("#infinite-view-"+$infinite_scroll).find(".jetpack-portfolio.post");t.hide(),o.append(t).isotope("appended",t)})),p(window).on("load",function(){siteoriginCorp.logoScale=parseFloat(siteoriginCorp.logoScale),p(".blog-layout-masonry").length&&p(".blog-layout-masonry").masonry({itemSelector:".hentry",columnWidth:".hentry"});var t=p("#projects-container");p(".portfolio-filter-terms").length&&t.isotope({itemSelector:".post",filter:"*",layoutMode:"fitRows",resizable:!0}),p(".portfolio-filter-terms button").on("click",function(){var o=p(this).attr("data-filter");return t.isotope({filter:o}),p(".portfolio-filter-terms button").removeClass("active"),p(this).addClass("active"),!1});var i=p("#masthead"),n={top:parseInt(i.css("padding-top")),bottom:parseInt(i.css("padding-bottom"))};if(i.data("scale-logo")){var s=i.find(".site-branding img"),o=s.width(),e=s.height(),a=o*siteoriginCorp.logoScale,r=e*siteoriginCorp.logoScale;p(".site-branding img").wrap("<div class='custom-logo-wrapper'></div>");function l(){var o=i.find(".site-branding > *"),t=window.pageYOffset||document.documentElement.scrollTop;if(0<t?i.css({"padding-top":n.top*siteoriginCorp.logoScale,"padding-bottom":n.bottom*siteoriginCorp.logoScale}).addClass("stuck"):i.css({"padding-top":n.top,"padding-bottom":n.bottom}).removeClass("stuck"),s.length)if(0<t){var e=siteoriginCorp.logoScale+Math.max(0,48-t)/48*(1-siteoriginCorp.logoScale);s.height()==r&&s.width()==a&&e==siteoriginCorp.logoScale||p(".site-branding img").css({width:100*e+"%"})}else p(".site-branding img").css({width:""});else 0<t?o.css("transform","scale("+siteoriginCorp.logoScale+")"):o.css("transform","scale(1)")}l(),p(window).on("scroll resize",l)}if(p("#masthead").hasClass("sticky")){i=p("#masthead");function c(){0<p(window).scrollTop()?p(i).addClass("stuck"):p(i).removeClass("stuck")}var d=p('<div class="masthead-sentinel"></div>').insertAfter(i),h=p("#topbar"),u=p('#topbar .woocommerce-store-notice[style*="display: none"]');c(),p(window).on("scroll",c);function m(){p("body").hasClass("mobile-header-ns")&&p(window).width()<siteoriginCorp.collapse||(!1!==d&&d.css("height",i.outerHeight()),p("body").hasClass("no-topbar")||h.siteoriginCorpIsVisible()||p("body").addClass("topbar-out"),h.length&&p("body").hasClass("topbar-out")&&h.siteoriginCorpIsVisible()&&p("body").removeClass("topbar-out"),p("body").hasClass("no-topbar")&&!p(window).scrollTop()&&p("body").addClass("topbar-out"),p("body").hasClass("no-topbar")||!p("body").hasClass("no-topbar")&&p("body").hasClass("topbar-out")||u.length?i.css("position","fixed"):p("body").hasClass("no-topbar")||p("body").hasClass("topbar-out")||i.css("position","absolute"))}m(),p(window).on("resize scroll",m)}})}(jQuery);